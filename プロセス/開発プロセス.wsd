@startuml

[*] --> システム目標定義
システム目標定義 --> STPAによる安全制約_ハザード分析
STPAによる安全制約_ハザード分析 --> 要求図
システム目標定義 --> 要求図
要求図 --> ユースケース図
要求図 --> コンテキスト図
コンテキスト図 --> ユースケース図
ユースケース図 --> ユースケース記述
ユースケース記述 --> アクティビティ図_ユースケース
アクティビティ図_ユースケース --> ステートマシン図
アクティビティ図_ユースケース --> システム構成図

' ↓ここを修正
システム構成図 --> FMEA分析
ステートマシン図 --> FMEA分析
FMEA分析 --> FTA分析

' ↑ここまでが構成・挙動に基づく分析フェーズ

' FTAの結果から改善を戻すなら破線などで戻すと丁寧
FTA分析 -[#blue,dashed]-> システム構成図 : 改善フィードバック
FTA分析 -[#blue,dashed]-> ステートマシン図 : 改善フィードバック

ステートマシン図 --> アクティビティ図_機能
システム構成図 --> アクティビティ図_機能
アクティビティ図_機能 --> STAMPに基づく対処
STAMPに基づく対処 -[#blue,dashed]-> 要求図 : 改善フィードバック
STAMPに基づく対処 --> シーケンス図_機能
シーケンス図_機能 --> [*]

@enduml
